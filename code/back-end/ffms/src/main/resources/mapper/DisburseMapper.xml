<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="org.csu.ffms.persistence.DisburseMapper">
    <insert id="newDisburse" parameterType="Disburse">
        INSERT INTO DISBURSE (AMOUNT_PAID,USERID,TIME,DESCRIPTION,TYPE)
        VALUES (#{amount_paid},#{userId},#{time},#{description},#{type})
    </insert>
    
    <delete id="deleteDisburse" parameterType="int" >
        delete FROM DISBURSE WHERE DISBURSEID=#{disburseId}
    </delete>

    <update id="updateDisburse" parameterType="Disburse">
        UPDATE DISBURSE
        SET AMOUNT_PAID = #{amount_paid},
            TIME = #{time},
            DESCRIPTION = #{description},
            TYPE = #{type}
        WHERE DISBURSEID = #{disburseId}
    </update>
    
    <select id="findDisburseList" parameterType="Disburse" resultType="Disburse">
        SELECT *
        FROM DISBURSE
        WHERE 1=1
        <if test="userId != null">
            AND Userid = #{userId}
        </if>
        <if test="time != null">
            AND TIME = #{time}
        </if>
        <if test="type != null">
            AND TYPE = #{type}
        </if>
    </select>

</mapper>